/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={213:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(601),o=n.n(r),i=n(314),a=n.n(i),s=n(417),u=n.n(s),c=new URL(n(299),n.b),l=a()(o()),d=u()(c);l.push([e.id,`body {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  padding: 0;\n  background-color: #edefec;\n}\n\n#root {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  width: 95%;\n  min-height: 500px;\n  margin: 30px auto;\n  padding: 22px;\n  border: 2px solid dimgrey;\n  background-image: url(${d});\n  background-size: cover;\n  font-family: 'Roboto', sans-serif;\n}\n\n.registerForm {\n  margin: auto;\n  display: none;\n  gap: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 50%;\n  padding: 20px;\n  border: 2px solid black;\n  background-color: white;\n  border-radius: 10px;\n}\n\n.input {\n  width: 80%;\n  padding: 10px;\n  font-size: 16px;\n  border: 2px solid dimgrey;\n}\n\n.modalTitle {\n  font-size: 22px;\n  text-align: center;\n  padding-bottom: 10px;\n}\n\n.btn {\n  width: 50%;\n  background: white;\n  font-size: 30px;\n  color: dimgrey;\n  padding: 10px 15px;\n  text-align: center;\n  border-radius: 20px;\n  border: 2px solid dimgrey;\n  cursor: pointer;\n}\n\n.modalGroup {\n  position: relative;\n  border: 1px solid darkred;\n  display: none;\n  min-height: 500px;\n}\n\n.usersListAndLeaveBtn{\n  position: absolute;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  gap: 20px;\n  width: 50%;\n  padding: 20px 0;\n}\n\n.users {\n  display: flex;\n  flex-direction: column;\n  gap: 7px;\n  padding: 15px 10px;\n  background: white;\n  border: 2px solid dimgrey;\n  border-radius: 20px;\n}\n\n.userWRP {\n  width: 80%;\n  display: inline-flex;\n  align-items: center;\n  justify-content: start;\n  gap: 20px;\n}\n\n.userImg {\n  width: 50px;\n  height: 50px;\n  border: 2px solid dimgrey;\n  border-radius: 25px;\n}\n\n.userName {\n  font-family: 'Roboto', sans-serif;\n  font-size: 20px;\n  text-align: center;\n  white-space: pre-line;\n}\n\n.currentUser{\n  color: darkred;\n  font-weight: bold;\n}\n\n.leaveChat {\n  width: 50%;\n}\n\n.chatWindow {\n  position: absolute;\n  z-index: 2;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  width: 70%;\n  height: 95%;\n  padding: 10px;\n  border: 2px solid dimgrey;\n  border-radius: 20px;\n  background: white;\n}\n\n.messageContainer{\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap:20px;\n  padding: 10px;\n  overflow: auto;\n}\n\n.chatConnect{\n  display: flex;\n  gap: 10px;\n}\n.sendMessage{\n width: 20%;\n}\n\n.inputMessage{\n  flex: 1;\n  border: 2px solid dimgrey;\n  border-radius: 20px;\n  padding: 10px;\n}\n\n.messageWRP{\n  display: flex;\n  flex-direction: column;\n  gap:20px;\n  padding: 10px;\n}\n\n.messageWRP.currentUserMsg{\n  align-items: end;\n\n}\n\n.messageWRP.otherUsersMsg{\n  justify-content: start;\n}\n\n.authorAndDateWrp{\n  display: inline-flex;\n  font-size: 14px;\n}\n\n\n.authorAndDateWrp.currentUserMsg{\n  color: darkred;\n}\n\n.message{\n  font-size: 18px;\n}\n\n`,""]);const f=l},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var u=e[s],c=r.base?u[0]+r.base:u[0],l=i[c]||0,d="".concat(c," ").concat(l);i[c]=l+1;var f=n(d),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var y=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:y,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var u=r(e,o),c=0;c<i.length;c++){var l=n(i[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=u}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},299:(e,t,n)=>{e.exports=n.p+"6fbd064e77db4c631778.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(72),t=n.n(e),r=n(825),o=n.n(r),i=n(659),a=n.n(i),s=n(56),u=n.n(s),c=n(540),l=n.n(c),d=n(113),f=n.n(d),p=n(213),y={};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:String(t)}y.styleTagTransform=f(),y.setAttributes=u(),y.insert=a().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=l(),t()(p.A,y),p.A&&p.A.locals&&p.A.locals;var g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws=new WebSocket(t),this.ws.addEventListener("open",this.onOpen.bind(this)),this.ws.addEventListener("message",this.onMessage.bind(this)),this.eventHandlers=n}var t,n;return t=e,(n=[{key:"onRegister",value:function(e){var t={type:"register",user:e},n=JSON.stringify(t);this.ws.send(n)}},{key:"onOpen",value:function(e){var t;null===(t=this.eventHandlers.onOpenConnection)||void 0===t||t.call(this,e.returnValue)}},{key:"onClose",value:function(){var e=JSON.stringify({type:"exit"});this.ws.send(e)}},{key:"onSendMsg",value:function(e){var t={type:"send",data:e.msg},n=JSON.stringify(t);this.ws.send(n)}},{key:"onMessage",value:function(e){var t,n,r,o=JSON.parse(e.data);switch(o.type){case"error":null===(t=this.eventHandlers.onError)||void 0===t||t.call(this,{msg:o.reason,command:o.command});break;case"ok":var i;console.log("ok",o.command),"register"===o.command?null===(i=this.eventHandlers.addCurrentUser)||void 0===i||i.call(this,o.user):"exit"===o.command&&(console.log("exit"),this.eventHandlers.leaveChat.call(this));break;case"users":null===(n=this.eventHandlers.onRenderChat)||void 0===n||n.call(this,o.users);break;case"message":null===(r=this.eventHandlers.drawMessage)||void 0===r||r.call(this,{from:o.from,msg:o.data,created:o.created})}}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function x(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:String(t)}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t}var t,n;return t=e,(n=[{key:"drawUser",value:function(e){this.user=e;var t=this.user.name,n=document.createElement("div");n.classList.add("userWRP");var r=document.createElement("div");r.style.background="lightgray",r.classList.add("userImg"),n.appendChild(r);var o=document.createElement("span");o.textContent=t,"You"===t&&o.classList.add("currentUser"),o.classList.add("userName"),n.appendChild(o),this.container.appendChild(n)}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),M=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,T=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,E=/[^-+\dA-Z]/g;var C={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},D={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")},k=function(e){var t=e.y,n=e.m,r=e.d,o=e._,i=e.dayName,a=e.short,s=void 0!==a&&a,u=new Date,c=new Date;c.setDate(c[o+"Date"]()-1);var l=new Date;return l.setDate(l[o+"Date"]()+1),u[o+"FullYear"]()===t&&u[o+"Month"]()===n&&u[o+"Date"]()===r?s?"Tdy":"Today":c[o+"FullYear"]()===t&&c[o+"Month"]()===n&&c[o+"Date"]()===r?s?"Ysd":"Yesterday":l[o+"FullYear"]()===t&&l[o+"Month"]()===n&&l[o+"Date"]()===r?s?"Tmw":"Tomorrow":i},O=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/6048e5;return 1+Math.floor(o)},N=function(e){var t=e.getDay();return 0===t&&(t=7),t},j=function(e){return(String(e).match(T)||[""]).pop().replace(E,"").replace(/GMT\+0000/g,"UTC")};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function F(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:String(t)}var H=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t}var t,n;return t=e,(n=[{key:"drawMessage",value:function(e){var t=e.from,n=e.msg,r=e.created,o=document.createElement("div");o.classList.add("messageWRP"),"You"===t?o.classList.add("currentUserMsg"):o.classList.add("otherUsersMsg");var i=document.createElement("div");i.classList.add("authorAndDateWrp"),"You"===t&&i.classList.add("currentUserMsg");var a=document.createElement("span");a.textContent="".concat(t,","),i.appendChild(a);var s=document.createElement("span");s.textContent=function(e,t,n,r){if(1!==arguments.length||"string"!=typeof e||/\d/.test(e)||(t=e,e=void 0),(e=e||0===e?e:new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var o=(t=String(C[t]||t||C.default)).slice(0,4);"UTC:"!==o&&"GMT:"!==o||(t=t.slice(4),n=!0,"GMT:"===o&&(r=!0));var i=function(){return n?"getUTC":"get"},a=function(){return e[i()+"Date"]()},s=function(){return e[i()+"Day"]()},u=function(){return e[i()+"Month"]()},c=function(){return e[i()+"FullYear"]()},l=function(){return e[i()+"Hours"]()},d=function(){return e[i()+"Minutes"]()},f=function(){return e[i()+"Seconds"]()},p=function(){return e[i()+"Milliseconds"]()},y=function(){return n?0:e.getTimezoneOffset()},h=function(){return O(e)},m={d:function(){return a()},dd:function(){return L(a())},ddd:function(){return D.dayNames[s()]},DDD:function(){return k({y:c(),m:u(),d:a(),_:i(),dayName:D.dayNames[s()],short:!0})},dddd:function(){return D.dayNames[s()+7]},DDDD:function(){return k({y:c(),m:u(),d:a(),_:i(),dayName:D.dayNames[s()+7]})},m:function(){return u()+1},mm:function(){return L(u()+1)},mmm:function(){return D.monthNames[u()]},mmmm:function(){return D.monthNames[u()+12]},yy:function(){return String(c()).slice(2)},yyyy:function(){return L(c(),4)},h:function(){return l()%12||12},hh:function(){return L(l()%12||12)},H:function(){return l()},HH:function(){return L(l())},M:function(){return d()},MM:function(){return L(d())},s:function(){return f()},ss:function(){return L(f())},l:function(){return L(p(),3)},L:function(){return L(Math.floor(p()/10))},t:function(){return l()<12?D.timeNames[0]:D.timeNames[1]},tt:function(){return l()<12?D.timeNames[2]:D.timeNames[3]},T:function(){return l()<12?D.timeNames[4]:D.timeNames[5]},TT:function(){return l()<12?D.timeNames[6]:D.timeNames[7]},Z:function(){return r?"GMT":n?"UTC":j(e)},o:function(){return(y()>0?"-":"+")+L(100*Math.floor(Math.abs(y())/60)+Math.abs(y())%60,4)},p:function(){return(y()>0?"-":"+")+L(Math.floor(Math.abs(y())/60),2)+":"+L(Math.floor(Math.abs(y())%60),2)},S:function(){return["th","st","nd","rd"][a()%10>3?0:(a()%100-a()%10!=10)*a()%10]},W:function(){return h()},WW:function(){return L(h())},N:function(){return N(e)}};return t.replace(M,(function(e){return e in m?m[e]():e.slice(1,e.length-1)}))}(r,"dd.mm.yy  HH:MM"),i.appendChild(s),o.appendChild(i);var u=document.createElement("span");u.classList.add("message"),u.textContent=n,o.appendChild(u),this.container.appendChild(o)}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(){W=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",p="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(N([])));S&&S!==n&&r.call(S,a)&&(w=S);var M=b.prototype=v.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,s){var u=d(e[o],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==U(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var o=f;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=D(s,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?h:p,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=h,r.method="throw",r.arg=c.arg)}}}function D(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(U(t)+" is not iterable")}return g.prototype=b,o(M,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(M),e},t.awrap=function(e){return{__await:e}},T(E.prototype),c(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(M),c(M,u,"Generator"),c(M,a,(function(){return this})),c(M,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function I(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function Y(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:String(t)}new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.api=new g("wss://chatapi-puv7.onrender.com/ws",{onOpenConnection:this.onOpenConnection.bind(this),onError:this.showAlert.bind(this),onRenderChat:this.renderChatWindows.bind(this),addCurrentUser:this.addCurrentUser.bind(this),drawMessage:this.drawMessage.bind(this),leaveChat:this.renderRegisterForm.bind(this)})}var t,n,r,o;return t=e,n=[{key:"init",value:function(){this.container?this.formsAddEventListeners():console.log("DOM Error")}},{key:"onOpenConnection",value:function(e){e?(this.renderRegisterForm(),this.disconnect()):alert("Error webSocket")}},{key:"disconnect",value:function(){var e=this;this.container.querySelector(".leaveChat").addEventListener("click",(function(){e.api.onClose()}))}},{key:"renderRegisterForm",value:function(){this.container.querySelector(".modalGroup").style.display="none",this.container.querySelector(".registerForm").style.display="flex"}},{key:"formsAddEventListeners",value:function(){this.container.querySelector(".registerForm").addEventListener("submit",this.onRegister.bind(this)),this.container.querySelector(".chatConnect").addEventListener("submit",this.onSendMsg.bind(this))}},{key:"onRegister",value:(r=W().mark((function e(t){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=new FormData(t.target),this.api.onRegister(Object.fromEntries(n));case 3:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){I(i,n,o,a,s,"next",e)}function s(e){I(i,n,o,a,s,"throw",e)}a(void 0)}))},function(e){return o.apply(this,arguments)})},{key:"showAlert",value:function(e){var t=e.msg;"register"===e.command&&this.container.querySelector(".registerForm").reset(),alert(t)}},{key:"renderChatWindows",value:function(e){this.container.querySelector(".modalGroup").style.display="inline-flex";var t=this.container.querySelector(".users"),n=t.querySelectorAll(".userWRP");if(n.length>0){var r,o=R(n);try{for(o.s();!(r=o.n()).done;)r.value.remove()}catch(e){o.e(e)}finally{o.f()}}var i,a=R(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.name=s.name===this.currentUser?"You":s.name,new S(t).drawUser(s)}}catch(e){a.e(e)}finally{a.f()}}},{key:"addCurrentUser",value:function(e){this.currentUser=e;var t=this.container.querySelector(".registerForm");t.reset(),t.style.display="none"}},{key:"onSendMsg",value:function(e){e.preventDefault();var t=new FormData(e.target);this.api.onSendMsg(Object.fromEntries(t)),e.target.reset()}},{key:"drawMessage",value:function(e){e.from=e.from===this.currentUser?"You":e.from;var t=this.container.querySelector(".messageContainer");new H(t).drawMessage(e)}}],n&&G(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())(document.getElementById("root")).init()})()})();